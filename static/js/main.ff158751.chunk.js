(this["webpackJsonprevv-leaderboard"]=this["webpackJsonprevv-leaderboard"]||[]).push([[0],{378:function(e,t,a){},379:function(e,t,a){},462:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),i=a(16),c=a.n(i),o=(a(378),a(379),a(135)),s=a.n(o),d=a(236),j=a(50),b=a(30),f=a(64),l=a(234),O=a(17),u=a(229),p=a.n(u),h=a(192),v=a.n(h),g=v.a.create({baseURL:"https://thingproxy.freeboard.io/fetch/https://events-api.revvracing.com/"}),m=v.a.create({baseURL:"https://thingproxy.freeboard.io/fetch/https://game-session-api.revvracing.com/v1.0/game/count/"}),x=a(348),D=a(327),w=a(325),S=a(311),P=a(304),z=a(310),k=a(493),T=a(494),R=a(326),y=a(497),L=a(487),I=a(349),C=a.n(I),E=a(359),F=a.n(E),N=a(350),J=a.n(N),V=a(357),A=a.n(V),B=a(238),U=a.n(B),M=a(237),W=a.n(M),_=a(351),H=a.n(_),q=a(352),G=a.n(q),K=a(354),Q=a.n(K),X=a(355),Y=a.n(X),Z=a(356),$=a.n(Z),ee=a(360),te=a.n(ee),ae=a(353),re=a.n(ae),ne=a(358),ie=a.n(ne),ce=a(361),oe=a.n(ce),se=a(14),de={Add:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(C.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Check:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(J.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Clear:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Delete:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(H.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),DetailPanel:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(U.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Edit:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(G.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Export:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(re.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Filter:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(Q.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),FirstPage:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(Y.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),LastPage:Object(r.forwardRef)((function(e,t){return Object(se.jsx)($.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),NextPage:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(U.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),PreviousPage:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(A.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ResetSearch:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(W.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),Search:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(ie.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),SortArrow:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(F.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(te.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))})),ViewColumn:Object(r.forwardRef)((function(e,t){return Object(se.jsx)(oe.a,Object(O.a)(Object(O.a)({},e),{},{ref:t}))}))},je=function(e){Object(f.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).generatePrizeTable=function(e){var t=Object(se.jsx)("div",{}),a=r.props.eventData.data.prize,n=r.props.eventData.data.prize_total.toString().replace(/\D/g,""),i=e.total,c=e.hired,o=e.owner,s=!1;if(r.props.eventData.data.splitLeaderboard&&(s=!0),i>0){var d=o/i,j=c/i,b=!1;r.props.eventData.data.dynamicPrizePoolRatio||(d=.5,j=.5,b=!0);var f=!1;for(var l in a){var O=1;if(a[l].prize<1||b){if(l<a.length-1){var u=parseInt(l)+1;a[u].rank-a[l].rank>1&&(f=!0,a[l].rankString=a[l].rank.toString()+" - "+(a[u].rank-1).toString(),O=parseInt(a[u].rank)-parseInt(a[l].rank))}else f&&(a[l].rankString=a[l].rank.toString()+"+*",O=3e3);a[l].rankString||(a[l].rankString=a[l].rank.toString());var p=a[l].prize*(b?1:n);a[l].hiredPrize=(j*p/O).toFixed(2),a[l].ownerPrize=(d*p/O).toFixed(2)}}t=Object(se.jsxs)(D.a,{children:[Object(se.jsx)(w.a,{children:Object(se.jsxs)(S.a,{children:[Object(se.jsx)(P.a,{children:"Rank"}),Object(se.jsxs)(P.a,{children:["Driver Prize ",s&&"("+(100*d).toFixed(2)+"%)"]}),s&&Object(se.jsxs)(P.a,{children:["Hired Prize (",(100*j).toFixed(2),"%)"]})]})}),Object(se.jsx)(z.a,{children:a.map((function(e){return Object(se.jsxs)(S.a,{children:[Object(se.jsx)(P.a,{children:e.rankString?e.rankString:e.rank}),Object(se.jsx)(P.a,{children:s?e.ownerPrize:e.prize}),s&&Object(se.jsx)(P.a,{children:e.hiredPrize})]})}))})]})}else t=Object(se.jsx)(k.a,{sx:{minWidth:275},children:Object(se.jsx)(T.a,{align:"center",children:Object(se.jsx)("h1",{children:"Prize Data Not Available"})})});r.setState({prizeTable:t})},r.getPrizeData=Object(d.a)(s.a.mark((function e(){var t,a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=r.props.eventData.id.toUpperCase(),localStorage.getItem(a)?(t=JSON.parse(localStorage.getItem(a)),r.setPrizeData(t)):m.get("".concat(a)).then((function(e){(t=e.data).total>0&&localStorage.setItem(a,JSON.stringify(t)),r.setPrizeData(t)})).catch((function(e){console.error(e)}));case 2:case"end":return e.stop()}}),e)}))),r.state={prizeTable:Object(se.jsx)(R.a,{}),prizeData:void 0},r}return Object(b.a)(a,[{key:"setPrizeData",value:function(e){this.setState({prizeData:e}),this.generatePrizeTable(e)}},{key:"componentDidMount",value:function(){this.getPrizeData()}},{key:"render",value:function(){return Object(se.jsx)("div",{children:this.state.prizeTable})}}]),a}(r.Component),be=[{title:"Series",field:"data.series",hidden:!0},{title:"Name",field:"data.name"},{title:"View Pizes",field:"",render:function(e){return new Date(e.endTimestamp).getTime()<(new Date).getTime()?Object(se.jsx)(x.a,{trigger:Object(se.jsx)(y.a,{href:"#",children:"View Prizes"}),position:"bottom center",children:Object(se.jsx)(L.a,{open:!0,fullWidth:!0,children:Object(se.jsx)(je,{eventData:e})})}):Object(se.jsxs)("div",{children:[new Date(e.startTimestamp).getTime()<(new Date).getTime()?"In Progress":"Upcoming","..."]})}},{title:"Start",field:"startTimestamp",type:"date"},{title:"End",field:"endTimestamp",type:"date"},{title:"Track",field:"data.track"},{title:"Laps",field:"data.lapCount"},{title:"Weather",field:"data.weather"},{title:"Total Prize",field:"data.prize_total"},{title:"id",field:"id",hidden:!0},{title:"percentagePrizePool",field:"data.percentagePrizePool",hidden:!0},{title:"dynamicPrizePoolRatio",field:"data.dynamicPrizePoolRatio",hidden:!0},{title:"splitLeaderboard",field:"data.splitLeaderboard",hidden:!0}];function fe(){var e=localStorage.getItem("accepted"),t=(new Date).getTime();return!(void 0!==e&&!(void 0!==e&&t-e>864e5))&&(localStorage.setItem("accepted",t),!0)}function le(e){return e.map((function(e){return e.startTimestamp=new Date(e.startTimestamp),e.endTimestamp=new Date(e.endTimestamp),e})),e.sort((function(e,t){return new Date(t.startTimestamp)-new Date(e.startTimestamp)})),e}var Oe=function(e){Object(f.a)(a,e);var t=Object(l.a)(a);function a(e){var r;return Object(j.a)(this,a),(r=t.call(this,e)).BasicTable=Object(d.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:fe()||!localStorage.getItem("events")?g.get("").then((function(e){t=le(t=e.data),r.setEventData(t),r.setEventDataLoaded(!0),localStorage.setItem("events",JSON.stringify(t))})).catch((function(e){console.error(e)})):(t=JSON.parse(localStorage.getItem("events")),r.setEventData(t),r.setEventDataLoaded(!0));case 1:case"end":return e.stop()}}),e)}))),r.state={eventData:void 0,eventDataLoaded:!1},r}return Object(b.a)(a,[{key:"setEventData",value:function(e){this.setState({eventData:e})}},{key:"setEventDataLoaded",value:function(e){this.setState({eventDataLoaded:e})}},{key:"componentDidMount",value:function(){this.BasicTable()}},{key:"render",value:function(){return Object(se.jsx)("div",{children:Object(se.jsx)(p.a,{title:"REVV Leaderboards",columns:be,data:this.state.eventData,icons:de,isLoading:!this.state.eventDataLoaded,options:{pageSize:10,pageSizeOptions:[5,10,20,{value:this.state.eventData?parseInt(this.state.eventData.length):0,label:"All"}]}})})}}]),a}(r.Component),ue=a(93),pe=a(486),he=a(496),ve=a(495),ge=Object(ue.b)({palette:{type:"dark"}});var me=function(){return Object(se.jsxs)(pe.a,{theme:ge,children:[Object(se.jsx)(he.a,{}),Object(se.jsx)(ve.a,{children:Object(se.jsx)(Oe,{})})]})},xe=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,643)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),r(e),n(e),i(e),c(e)}))};c.a.render(Object(se.jsx)(n.a.StrictMode,{children:Object(se.jsx)(me,{})}),document.getElementById("root")),xe()}},[[462,1,2]]]);
//# sourceMappingURL=main.ff158751.chunk.js.map